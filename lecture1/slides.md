---
author: ""
date: ""
paging: "%d / %d"
---

# Networks
```
   _______________                        |*\_/*|________
  |  ___________  |     .-.     .-.      ||_/-\_|______  |
  | |           | |    .****. .****.     | |           | |
  | |   0   0   | |    .*****.*****.     | |   0   0   | |
  | |     -     | |     .*********.      | |     -     | |
  | |   \___/   | |      .*******.       | |   \___/   | |
  | |___     ___| |       .*****.        | |___________| |
  |_____|\_/|_____|        .***.         |_______________|
    _|__|/ \|_|_.............*.............._|________|_
   / ********** \                          / ********** \
 /  ************  \                      /  ************  \
--------------------                    --------------------
```

---

# Assumptions

We don't deal with electronics.

00010101001011001011000...

---

# How to connect

```
ðŸ’»â•ºâ”â”â”â”â”â”â”â•¸ðŸ’»
```

---

# How to connect

```
ðŸ’»â•ºâ”â”â”â”â”â”â”â•¸ðŸ’»
```
* collision (CSMA/CD)

---

# How to connect

```
ðŸ’»â•ºâ”â”â”â”³â”â”â”â•¸ðŸ’»
      â”ƒ
      â”ƒ
      â•¹
      ðŸ’»
```
* addresses
* throughput
* collision (CSMA/CD)

---

# How to connect

```
ðŸ’»â•ºâ”â”â”*â”â”â”â•¸ðŸ’»
      â”ƒ
      â”ƒ
      â•¹
      ðŸ’»
```
* addresses
* throughput
* collision (CSMA/CD)

---

# Ethernet frame

```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ  PREAMBLE  â”ƒ
â”£â”â”â”â”â”â”â”â”â”â”â”â”â”«
â”ƒ .......... â”ƒ
â”£â”â”â”â”â”â”â”â”â”â”â”â”â”«
â”ƒ  TO (MAC)  â”ƒ
â”£â”â”â”â”â”â”â”â”â”â”â”â”â”«
â”ƒ FROM (MAC) â”ƒ
â”£â”â”â”â”â”â”â”â”â”â”â”â”â”«
â”ƒ .......... â”ƒ
â”£â”â”â”â”â”â”â”â”â”â”â”â”â”«
â”ƒ  PAYLOAD   â”ƒ
â”£â”â”â”â”â”â”â”â”â”â”â”â”â”«
â”ƒ .......... â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”›
```

---

# MAC (Medium Access Control)

```
â¯ ip link show enp0s31f6 | grep link/ether
    link/ether e8:6a:64:41:d6:9a brd ff:ff:ff:ff:ff:ff
```

---

# MAC (Medium Access Control)

```
â¯ ip link show enp0s31f6 | grep link/ether
    link/ether e8:6a:64:41:d6:9a brd ff:ff:ff:ff:ff:ff
```

`e8:6a:64`
LCFC(HeFei) Electronics Technology co., ltd

---

# How to connect

```
ðŸ’»â•ºâ”â”â”â”³â”â”â”â•¸BRIDGEâ•ºâ”â”â”â”³â”â”â”â•¸ðŸ’»
      â”ƒ              â”ƒ 
ðŸ’»â•ºâ”â”â”â•‹â”â”â”â•¸BRIDGEâ•ºâ”â”â”â•‹â”â”â”â•¸ðŸ’»
      â”ƒ              â”ƒ 
ðŸ’»â•ºâ”â”â”â”›              â”—â”â”â”â•¸ðŸ’»
```
* addresses
* throughput
* multiple routes
* fault tolerance

---

# How to connect

```
ðŸ’»â•ºâ”â”â”â”³â”â”â”â•¸BRIDGEâ•ºâ”â”â”â”â”â”â”â•¸ðŸ’»
      â”ƒ 
ðŸ’»â•ºâ”â”â”â•‹â”â”â”â•¸BRIDGEâ•ºâ”â”â”â”³â”â”â”â•¸ðŸ’»
      â”ƒ              â”ƒ
ðŸ’»â•ºâ”â”â”â”›              â”—â”â”â”â•¸ðŸ’»
```
* addresses
* throughput
* multiple routes
* fault tolerance

---

# Internet ðŸŒ
```
ðŸ’»â•ºâ”â”â”â”³â”â”â”â•¸BRIDGEâ•ºâ”â•¸BRIDGEâ•ºâ”â”â”â”â”â”â•¸ðŸ’»
      â”ƒ 
ðŸ’»â•ºâ”â”â”â•‹â”â”â”â•¸BRIDGEâ•ºâ”³â•¸BRIDGEâ•ºâ”â”â”â”â”â”â•¸ðŸ’»
      â”ƒ           â”ƒ
ðŸ’»â•ºâ”â”â”â•‹â”â”â”â•¸BRIDGEâ•ºâ”»â•¸BRIDGEâ•ºâ”â”â”³â”â”â”â•¸ðŸ’»
      â”ƒ                      â”ƒ
ðŸ’»â•ºâ”â”â”â•‹â”â”â”â•¸BRIDGEâ•ºâ”³â•¸BRIDGEâ•ºâ”â”â•‹â”â”â”â•¸BRIDGEâ•ºâ”â”â”â”³â”â”â”â•¸ðŸ’»
      â”ƒ           â”ƒ          â”ƒ              â”ƒ
ðŸ’»â•ºâ”â”â”â”›           â•¹          â”£â”â”â”â•¸ðŸ’»  ðŸ’»â•ºâ”â”â”â”›
                  ðŸ’»         â”ƒ
                             â”£â”â”â”â•¸ðŸ’»
         ðŸ’»â•ºâ”â”â”³â”â”â”â•¸BRIDGEâ•ºâ”â”â”â”›
              â•¹
              ðŸ’»
---

# IPv4 packet
```
â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ ......... â”ƒ
â”£â”â”â”â”â”â”â”â”â”â”â”â”«
â”ƒ    TTL    â”ƒ
â”£â”â”â”â”â”â”â”â”â”â”â”â”«
â”ƒ  TO (IP)  â”ƒ
â”£â”â”â”â”â”â”â”â”â”â”â”â”«
â”ƒ FROM (IP) â”ƒ
â”£â”â”â”â”â”â”â”â”â”â”â”â”«
â”ƒ ......... â”ƒ
â”£â”â”â”â”â”â”â”â”â”â”â”â”«
â”ƒ  PAYLOAD  â”ƒ
â”£â”â”â”â”â”â”â”â”â”â”â”â”«
â”ƒ ......... â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”›
```

---

# IPv4 address
```
     192.     168.       0.      34
11000000.10101000.00000000.00100010
```

---

# IPv4 address
```
     192.     168.       0.      34
11000000.10101000.00000000.00100010
11111111.11111111.11111111.00000000
     255.     255.     255.       0
```

---

# IPv4 address
```
     192.     168.       0.      34
11000000.10101000.00000000.00100010
11111111.11111111.11111000.00000000
     255.     255.     248.       0
```

---

# IPv4 address âŒ
```
     192.     168.       0.      34
11000000.10101000.00000000.00100010
11111111.11111111.00111000.00000000
     255.     255.      56.       0
```

---

# IPv4 address
```
     192.     168.       0.      34
11000000.10101000.00000000.00100010
11111111.11111111.11111000.00000000
     255.     255.     248.       0
```

192.168.0.34/21

---

# ARP (Address Resolution Protocol)
```
192.168.0.1 -> e8:6a:64:41:d6:9a
```

---

# Routing

```
  ðŸ’»
  â•» 192.168.0.34/24
  â”ƒ
  â”ƒ
  â•¹ 192.168.0.1/24
BRIDGE
  â•» 10.0.0.52/16
  â”ƒ
  â”ƒ
  â•¹ 10.0.0.74/16
  ðŸ’»
```

---

# DHCP (Dynamic Host Configuration Protocol)

```
CLIENT                                 SERVER

 ----------------- DISCOVER --------------->
  FROM: e8:6a:64:41:d6:9a /   0.  0.  0.  0
  TO:   ff:ff:ff:ff:ff:ff / 255.255.255.255
```

---

# DHCP (Dynamic Host Configuration Protocol)

```
CLIENT                                 SERVER

 <----------------- OFFER ------------------
  FROM: 52:54:00:2d:6f:e1 / 192.168.  0.  1
  TO:   e8:6a:64:41:d6:9a / 192.168.  0. 21
    subnet mask: 255.255.255.255
    DHCP server: 192.168.  0.  1
    router:      192.168.  0.  2
    DNS:           8.  8.  8.  8
                   8.  8.  4.  4
    lease time:  86400 seconds
```

---

# DHCP (Dynamic Host Configuration Protocol)

```
CLIENT                                 SERVER

 ----------------- REQUEST ---------------->
  FROM: e8:6a:64:41:d6:9a /   0.  0.  0.  0
  TO:   ff:ff:ff:ff:ff:ff / 255.255.255.255
    address:     192.168.  0. 21 
    DHCP server: 192.168.  0.  1
```

---

# DHCP (Dynamic Host Configuration Protocol)

```
CLIENT                                 SERVER

 <------------------ ACK -------------------
  FROM: 52:54:00:2d:6f:e1 / 192.168.  0.  1
  TO:   e8:6a:64:41:d6:9a / 192.168.  0. 21
    subnet mask: 255.255.255.255
    DHCP server: 192.168.  0.  1
    router:      192.168.  0.  2
    DNS:           8.  8.  8.  8
                   8.  8.  4.  4
    lease time:  86400 seconds
```
